<?php
session_start();

//send inputs to sql server
function createTest($conn, $userId, $q1, $q2, $q3, $q4, $q5, $q6, $q7, $q8, $q9, $q10) {
    $sql = "INSERT INTO test5 (userId, test1q1, test1q2, test1q3, test1q4, test1q5, test1q6, test1q7, test1q8, test1q9, test1q10) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);";
    $stmt = mysqli_stmt_init($conn);
    if (!mysqli_stmt_prepare($stmt, $sql)) {
        header("location: ../test_11.php?error=stmtfailed1"); //error massage of connection error, varivable or format inorrect
        exit();
    }
    
    mysqli_stmt_bind_param($stmt, "sssssssssss", $userId, $q1, $q2, $q3, $q4, $q5, $q6, $q7, $q8, $q9, $q10);
    mysqli_stmt_execute($stmt);
    mysqli_stmt_close($stmt);
    session_start();
    header("location: ../test_11.php?success=yeeymami"); //link to the next page of tests
    exit();
}









<?php
session_start();

if (isset($_POST["submit"])) {

    $userId = $_SESSION['userId'];
    $q1 = $_POST["q1"];
    $q2 = $_POST["q2"];
    $q3 = $_POST["q3"];
    $q4 = $_POST["q4"];
    $q5 = $_POST["q5"];
    $q6 = $_POST["q6"];
    $q7 = $_POST["q7"];
    $q8 = $_POST["q8"];
    $q9 = $_POST["q9"];
    $q10 = $_POST["q10"];


    require_once 'dbh.inc.php';
    require_once 'functions.test.inc.php';

    createTest($conn, $userId, $q1, $q2, $q3, $q4, $q5, $q6, $q7, $q8, $q9, $q10);

}
else {
    header("location: ../test_11.php?wattafaka");
    exit();
}



 $userId,
